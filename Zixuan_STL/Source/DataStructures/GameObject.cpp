#include "GameObject.h"
#include <utility>

//====================================================================================================================
// GameObject function implementations
//====================================================================================================================

//--------------------------------------------------------------------------------------------------------------------
// GameObject default Ctor
//--------------------------------------------------------------------------------------------------------------------
GameObject::GameObject()
	: m_age{0}
	, m_pName{"Unnamed"}
{
}

//--------------------------------------------------------------------------------------------------------------------
// GameObject parameter Ctor
//--------------------------------------------------------------------------------------------------------------------
GameObject::GameObject(int age, const char* pName)
	: m_age{ age }
	, m_pName{ pName }
{
}

//--------------------------------------------------------------------------------------------------------------------
// GameObject copy ctor
//--------------------------------------------------------------------------------------------------------------------
GameObject::GameObject(const GameObject& other)
	: m_age{ other.m_age }
	, m_pName{ other.m_pName }
{
}

//--------------------------------------------------------------------------------------------------------------------
// GameObject copy assign operator
//--------------------------------------------------------------------------------------------------------------------
GameObject& GameObject::operator=(const GameObject& other)
{
	if (this == &other)
		return *this;

	m_age = other.m_age;
	m_pName = other.m_pName;
	return *this;
}

//--------------------------------------------------------------------------------------------------------------------
// GameObject move ctor
//--------------------------------------------------------------------------------------------------------------------
GameObject::GameObject(GameObject&& other) noexcept
	: m_age{ other.m_age }
	, m_pName{ std::move(other.m_pName) }
{
}

//--------------------------------------------------------------------------------------------------------------------
// GameObject move assign operator
//--------------------------------------------------------------------------------------------------------------------
GameObject& GameObject::operator=(GameObject&& other) noexcept
{
	if (this == &other)
		return *this;

	m_age = other.m_age;
	m_pName = std::move(other.m_pName);

	return *this;
}

//--------------------------------------------------------------------------------------------------------------------
// GameObject Dtor
//--------------------------------------------------------------------------------------------------------------------
GameObject::~GameObject()
{
	std::cout << "Delete GameObject: " << m_pName << std::endl;
}

void GameObject::DoWork()
{
	std::cout << "GameObject: " << m_pName << " is working" << std::endl;
}

bool GameObject::IsAdult() const
{
	return m_age > 10;
}

//====================================================================================================================
// Person function implementations
//====================================================================================================================

//--------------------------------------------------------------------------------------------------------------------
// Person default Ctor
//--------------------------------------------------------------------------------------------------------------------
Person::Person()
	: GameObject{}
	, m_id{ -1 }
{
}

//--------------------------------------------------------------------------------------------------------------------
// Person parameter ctor
//--------------------------------------------------------------------------------------------------------------------
Person::Person(int age, const char* pName, int id)
	: GameObject(age, pName)
	, m_id{ id }
{
}

//--------------------------------------------------------------------------------------------------------------------
// Person copy ctor
//--------------------------------------------------------------------------------------------------------------------
Person::Person(const Person& other)
	: GameObject{ other }
	, m_id{ other.m_id }
{
}

//--------------------------------------------------------------------------------------------------------------------
// Person copy assign operator
//--------------------------------------------------------------------------------------------------------------------
Person& Person::operator=(const Person& other)
{
	if (this == &other)
		return *this;

	m_age = other.m_age;
	m_pName = other.m_pName;
	m_id = other.m_id;

	return *this;
}

//--------------------------------------------------------------------------------------------------------------------
// Person move ctor
//--------------------------------------------------------------------------------------------------------------------
Person::Person(Person&& other) noexcept
	: GameObject{ std::move(other) }
	, m_id{ other.m_id }
{
}

//--------------------------------------------------------------------------------------------------------------------
// Person move assign operator
//--------------------------------------------------------------------------------------------------------------------
Person& Person::operator=(Person&& other) noexcept
{
	if (this == &other)
		return *this;

	m_age = other.m_age;
	m_pName = std::move(other.m_pName);
	m_id = other.m_id;

	return *this;
}

//--------------------------------------------------------------------------------------------------------------------
// Person dtor
//--------------------------------------------------------------------------------------------------------------------
Person::~Person()
{
	std::cout << "Delete Person: " << m_pName << std::endl;
}

void Person::DoWork()
{
	std::cout << "Person: " << m_pName << " is working" << std::endl;
}

bool Person::IsAdult() const
{
	return m_age >= 18;
}


